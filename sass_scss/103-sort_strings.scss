@import '103-sort_list';

@function sort-list($list) {
  $result: ();
  $temp: $list;
  
  @while length($temp) > 0 {
    $min: nth($temp, 1);
    $min-pos: 1;
    
    @if length($temp) > 1 {
      @for $i from 2 through length($temp) {
        @if str-less-than(nth($temp, $i), $min) {
          $min: nth($temp, $i);
          $min-pos: $i;
        }
      }
    }
    
    $result: append($result, $min);
    $new-temp: ();
    
    @for $i from 1 through length($temp) {
      @if $i != $min-pos {
        $new-temp: append($new-temp, nth($temp, $i));
      }
    }
    
    $temp: $new-temp;
  }
  
  @return $result;
}

@function str-less-than($a, $b) {
  $str-a: to-lower-case(inspect($a));
  $str-b: to-lower-case(inspect($b));
  
  $len-a: str-length($str-a);
  $len-b: str-length($str-b);
  $min-len: if($len-a < $len-b, $len-a, $len-b);
  
  @for $i from 1 through $min-len {
    $char-a: str-slice($str-a, $i, $i);
    $char-b: str-slice($str-b, $i, $i);
    
    @if $char-a != $char-b {
      @return char-value($char-a) < char-value($char-b);
    }
  }
  
  @return $len-a < $len-b;
}

@function char-value($char) {
  $alphabet: "abcdefghijklmnopqrstuvwxyz";
  $pos: str-index($alphabet, $char);
  @return if($pos, $pos, 999);
}

@debug sort-list($list_to_sort);